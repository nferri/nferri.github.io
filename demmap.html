<html>
<head>
  <title>DEM</title>
   <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>


  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css' rel='stylesheet' />
  <style>


    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:100%; }


  </style>
</head>
<body>

  <style>
    #map{ height: 100% }
    .legend { text-align: left; line-height: 20px; color: #ffffff; } .legend i { width: 20px; height: 20px; float: left; margin-right: 30px; opacity: 0.9; }
  </style>
</head>
<body>
 
  <div id="map"></div>

  <script>
 
  // initialize the map
  var map = L.map('map').setView([36, -98], 4);
 

 L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibmZlcnJpIiwiYSI6ImNqbzA4amwzdzBiOWszdnFmbjRwcDAwbnAifQ.WGVeV7RnIWMf3DSZTXdwlQ', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 6,
    minZoom: 4,
    id: 'mapbox.dark',
    accessToken: 'pk.eyJ1IjoibmZlcnJpIiwiYSI6ImNqbzA4amwzdzBiOWszdnFmbjRwcDAwbnAifQ.WGVeV7RnIWMf3DSZTXdwlQ'
}).addTo(map);

    {"type":"Feature","id":"53","properties":{"name":"Washington","density":"67,106", "percent": 422},"geometry":{"type":"MultiPolygon","coordinates":[[[[-117.033359,49.000239],[-117.044313,47.762451],[-117.038836,46.426077],[-117.055267,46.343923],[-116.92382,46.168661],[-116.918344,45.993399],[-118.988627,45.998876],[-119.125551,45.933153],[-119.525367,45.911245],[-119.963522,45.823614],[-120.209985,45.725029],[-120.505739,45.697644],[-120.637186,45.746937],[-121.18488,45.604536],[-121.217742,45.670259],[-121.535404,45.725029],[-121.809251,45.708598],[-122.247407,45.549767],[-122.762239,45.659305],[-122.811531,45.960537],[-122.904639,46.08103],[-123.11824,46.185092],[-123.211348,46.174138],[-123.370179,46.146753],[-123.545441,46.261769],[-123.72618,46.300108],[-123.874058,46.239861],[-124.065751,46.327492],[-124.027412,46.464416],[-123.895966,46.535616],[-124.098612,46.74374],[-124.235536,47.285957],[-124.31769,47.357157],[-124.427229,47.740543],[-124.624399,47.88842],[-124.706553,48.184175],[-124.597014,48.381345],[-124.394367,48.288237],[-123.983597,48.162267],[-123.704273,48.167744],[-123.424949,48.118452],[-123.162056,48.167744],[-123.036086,48.080113],[-122.800578,48.08559],[-122.636269,47.866512],[-122.515777,47.882943],[-122.493869,47.587189],[-122.422669,47.318818],[-122.324084,47.346203],[-122.422669,47.576235],[-122.395284,47.800789],[-122.230976,48.030821],[-122.362422,48.123929],[-122.373376,48.288237],[-122.471961,48.468976],[-122.422669,48.600422],[-122.488392,48.753777],[-122.647223,48.775685],[-122.795101,48.8907],[-122.756762,49.000239],[-117.033359,49.000239]]],[[[-122.718423,48.310145],[-122.586977,48.35396],[-122.608885,48.151313],[-122.767716,48.227991],[-122.718423,48.310145]]],[[[-123.025132,48.583992],[-122.915593,48.715438],[-122.767716,48.556607],[-122.811531,48.419683],[-123.041563,48.458022],[-123.025132,48.583992]]]]}},
  ];

L.geoJSON(states, {
    style: function(feature){
      var fillColor,
          percent = feature.properties.percent;
      if ( percent > 1000 ) fillColor = "#67000d";
      else if ( percent > 500 ) fillColor = "#cb181d";
      else if ( percent > 300 ) fillColor = "#fb6a4a";
      else if ( percent > 100 ) fillColor = "#fcbba1";
      else if ( percent > 10 ) fillColor = "#fee0d2"
      else fillColor = "#00FFFFFF";  // no data
      return { color: "#999", weight: .8, fillColor: fillColor, fillOpacity: .95 };
    },
    onEachFeature: function( feature, layer ){
      layer.bindPopup( "<strong>" + feature.properties.name + "</strong><br/>" + "Median Household Income: $" + "<strong>" + feature.properties.density +"</strong>" + "<br/>Monetary Disparity: Richest State Congressperson Makes " + "<strong>" + feature.properties.percent + "</strong>" + " Times the Average Citizen's Income")
    }
  }  ).addTo(map);

var legend = L.control({position: 'bottomright'});

legend.onAdd = function (map) {

    var div = L.DomUtil.create('div', 'info legend'),
    grades = [0, 10, 100, 300, 500, 1000],
    labels = [];
    div.innerHTML += '<b>Monetary Disparity </br>(Earns X Times as Much)</b><br>'
    // loop through our density intervals and generate a label with a colored square for each interval
    for (var i = 0; i < grades.length; i++) {
        div.innerHTML +=
            '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
            grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
}

return div;
};

legend.addTo(map);


function getColor(d) {
    return d > 1000 ? '#67000d' :
           d > 500  ? '#cb181d' :
           d > 300 ? '#fb6a4a' :
           d > 100  ? '#fcbba1' :
           d > 10  ? '#fee0d2' :
                      '#00000000';
}


     // Disable mousewheel zoom
      map.scrollWheelZoom.disable();

 
  </script>
</body>
</html>
